"use strict";const searchButton=document.querySelector(".js-buttonSearch"),form=document.querySelector(".js-form"),ulResults=document.querySelector(".js-searchResult"),favUl=document.querySelector(".js-searchFavs"),defaultImage="https://via.placeholder.com/210x295/ffffff/666666/?text=TV";let allSeries=[],favoriteSeries=[];function search(){const e=document.querySelector(".js-searchBox").value;fetch("http://api.tvmaze.com/search/shows?q="+e).then(e=>e.json()).then(e=>{const t=e;allSeries=[];for(const e of t)allSeries.push(e.show);createList(),makeLiClickable()})}function createList(){resultReset();for(let e=0;e<allSeries.length;e++){let t=null===allSeries[e].image?defaultImage:allSeries[e].image.medium;const a=allSeries[e].id,s=document.createElement("li"),i=document.createElement("img"),r=document.createElement("h3"),l=document.createTextNode(""+allSeries[e].name);i.src=t,i.alt="`${allSeries[i].name}`",r.appendChild(l),ulResults.appendChild(s),s.id=a,s.appendChild(i),s.appendChild(r),s.classList.add("js-results"),s.classList.add("js-results-color"),r.classList.add("js-series-name")}}function makeLiClickable(){const e=document.querySelectorAll(".js-results");for(const t of e)t.addEventListener("click",favoriteShow)}function favoriteShow(e){const t=e.currentTarget;console.log("current",t);const a=parseInt(t.id);if(void 0===favoriteSeries.find(e=>e.id===a)){const e=allSeries.find(e=>e.id===a);favoriteSeries.push(e)}else favoriteSeries=favoriteSeries.filter(e=>e.id!==a);paintFav()}function paintFav(){favReset();for(let e=0;e<favoriteSeries.length;e++){let t=null===favoriteSeries[e].image?defaultImage:favoriteSeries[e].image.medium;const a=document.querySelector(".js-favArea"),s=document.createElement("small"),i=document.createElement("li"),r=document.createElement("img"),l=document.createElement("div"),n=document.createElement("h3"),o=document.createTextNode("[x]"),c=document.createTextNode(""+favoriteSeries[e].name);r.src=t,r.alt="`${favoriteSeries[i].name}`",l.appendChild(n),l.appendChild(s),s.appendChild(o),n.appendChild(c),favUl.appendChild(i),i.id=favoriteSeries.id,i.appendChild(r),i.appendChild(l),l.classList.add("js-favDiv"),i.classList.add("js-favorite"),a.classList.remove("js-hidden"),favUl.classList.add("js-favoriteArea")}}function resultReset(){ulResults.innerHTML=""}function favReset(){favUl.innerHTML=""}function preventSubmit(e){e.preventDefault()}searchButton.addEventListener("click",search),form.addEventListener("submit",preventSubmit),console.log(favoriteSeries);